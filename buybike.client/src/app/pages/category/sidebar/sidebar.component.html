<div class="sidebar">
  <div class="accordion">
    <h2>Категории</h2>
    <ul class="type-cat">
      <li
        [ngClass]="{ hide: type.name.toLowerCase() !== selectedTypeName }"
        *ngFor="let type of categories; index as i"
        id="type{{ i }}"
      >
        <div class="category-name-group">
          <a
            [routerLink]="'/' + type.name.toLowerCase()"
            [ngStyle]="{
              color:
                type.name.toLowerCase() === selectedTypeName ? 'red' : 'black'
            }"
            href=""
            >{{ type.name }}</a
          >
          <button
            *ngIf="type.subCategories.length > 0"
            (click)="toggle('type' + i)"
          >
            <i
              [ngClass]="{
                'fa-plus': type.name.toLowerCase() !== selectedTypeName,
                'fa-minus': type.name.toLowerCase() === selectedTypeName
              }"
              class="fa-solid"
            ></i>
          </button>
        </div>

        <ul>
          <li
            [ngClass]="{ hide: !selectedCategoryTree.includes(category) }"
            *ngFor="let category of type.subCategories; index as j"
            id="cat{{ j }}"
          >
            <div class="category-name-group">
              <a
                [routerLink]="
                  '/' +
                  type.name.toLowerCase() +
                  '/' +
                  category.name.toLowerCase()
                "
                [ngStyle]="{
                  color:
                    category.name.toLowerCase() === selectedCategoryName
                      ? 'red'
                      : 'black'
                }"
                href=""
                >{{ category.name }}</a
              >
              <button
                *ngIf="category.subCategories.length > 0"
                (click)="toggle('cat' + j)"
              >
                <i
                  [ngClass]="{
                    'fa-plus': !selectedCategoryTree.includes(category),
                    'fa-minus': selectedCategoryTree.includes(category)
                  }"
                  class="fa-solid"
                ></i>
              </button>
            </div>
            <ul>
              <li *ngFor="let subCategory of category.subCategories">
                <a
                  [ngStyle]="{
                    color:
                      subCategory.name.toLowerCase() === selectedCategoryName
                        ? 'red'
                        : 'black'
                  }"
                  href=""
                  >{{ subCategory.name }}</a
                >
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </div>

  <div class="filter">
    <h2>Филтър</h2>

    <div class="makes">
      <div class="make" *ngFor="let make of manufacturers; index as i">
        <input type="checkbox" [name]="i" />

        <label for="{{ i }}">{{ make.name }}</label>
      </div>
    </div>
  </div>
</div>
